{"version":3,"sources":["webpack:///./src/views/RestaurantDashboard.vue","webpack:///src/views/RestaurantDashboard.vue","webpack:///./src/views/RestaurantDashboard.vue?839b","webpack:///./src/views/RestaurantDashboard.vue?a1d6"],"names":["render","_vm","this","_c","_self","staticClass","isLoading","_v","_s","restaurant","name","Category","commentsCount","viewCounts","attrs","on","$event","$router","back","staticRenderFns","components","Spinner","data","created","id","beforeRouteUpdate","next","methods","restaurantId","Toast","icon","title","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAAEJ,EAAIK,UAAWH,EAAG,WAAW,CAACA,EAAG,MAAM,CAACA,EAAG,KAAK,CAACF,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,WAAWC,SAASP,EAAG,OAAO,CAACE,YAAY,mCAAmC,CAACJ,EAAIM,GAAG,IAAIN,EAAIO,GAAGP,EAAIQ,WAAWE,SAAWV,EAAIQ,WAAWE,SAASD,KAAO,OAAO,SAASP,EAAG,MAAMA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACF,EAAIM,GAAG,QAAQN,EAAIO,GAAGP,EAAIW,eAAe,OAAOT,EAAG,KAAK,CAACF,EAAIM,GAAG,SAASN,EAAIO,GAAGP,EAAIQ,WAAWI,YAAY,SAASV,EAAG,SAAS,CAACE,YAAY,eAAeS,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIgB,QAAQC,UAAU,CAACjB,EAAIM,GAAG,cAAc,IAErnBY,EAAkB,G,oCCgHP,GACfC,YACAC,gBAEAC,OACA,OACAb,cACAG,iBACAN,eAGAiB,UACA,SAAAC,GAAA,mBACA,yBAEAC,yBACA,SAAAD,GAAA,SACA,wBACAE,KAEAC,SACA,yBACA,IAGA,WAAAL,SAAA,qBAAAM,iBACA,6BACA,gDACA,kBAEA,SACA,kBACAC,aACAC,aACAC,6BCpJ6V,I,YCOzVC,EAAY,eACd,EACAhC,EACAmB,GACA,EACA,KACA,KACA,MAIa,aAAAa,E","file":"js/chunk-2d0b2ec8.b8fdd932.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container py-5\"},[(_vm.isLoading)?_c('Spinner'):[_c('div',[_c('h1',[_vm._v(_vm._s(_vm.restaurant.name))]),_c('span',{staticClass:\"badge badge-secondary mt-1 mb-3\"},[_vm._v(\" \"+_vm._s(_vm.restaurant.Category ? _vm.restaurant.Category.name : '未分類')+\" \")])]),_c('hr'),_c('ul',[_c('li',[_vm._v(\"評論數： \"+_vm._s(_vm.commentsCount)+\" \")]),_c('li',[_vm._v(\"瀏覽次數： \"+_vm._s(_vm.restaurant.viewCounts)+\" \")])]),_c('button',{staticClass:\"btn btn-link\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$router.back()}}},[_vm._v(\" 回上一頁 \")])]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container py-5\">\n\n    <Spinner v-if=\"isLoading\" />\n    <template v-else>\n      <div>\n        <h1>{{ restaurant.name }}</h1>\n        <span class=\"badge badge-secondary mt-1 mb-3\">\n          {{ restaurant.Category ? restaurant.Category.name : '未分類' }}\n        </span>\n      </div>\n      \n      <hr>\n      \n      <ul>\n        <li>評論數： {{ commentsCount }} </li>\n        <li>瀏覽次數： {{ restaurant.viewCounts }} </li>\n      </ul>\n      \n      <button\n        type=\"button\"\n        class=\"btn btn-link\"\n        @click=\"$router.back()\"\n      >\n        回上一頁\n      </button>\n    </template>\n\n  </div>\n</template>\n\n<script>\nimport restaurantsAPI from '../apis/restaurants';\nimport { Toast } from '../utils/helpers'\nimport Spinner from '../components/Spinner.vue'\n\n// const dummyData = {\n//   \"restaurant\": {\n//     \"id\": 1,\n//     \"name\": \"Dr. Chloe Stroman\",\n//     \"tel\": \"314.863.0863\",\n//     \"address\": \"313 Renee Shores\",\n//     \"opening_hours\": \"08:00\",\n//     \"description\": \"Fugiat assumenda quo quas. Ut aut nostrum distinctio tenetur debitis. Est aut et est magni itaque pariatur laborum cupiditate distinctio. Occaecati et pariatur aut est. Quam est ipsa harum omnis saepe delectus repellat mollitia. Quod quasi similique officiis.\",\n//     \"image\": \"https://loremflickr.com/320/240/restaurant,food/?random=28.560792367453104\",\n//     \"viewCounts\": 1,\n//     \"createdAt\": \"2022-09-13T00:32:28.000Z\",\n//     \"updatedAt\": \"2022-09-17T05:57:19.000Z\",\n//     \"CategoryId\": 5,\n//     \"Category\": {\n//       \"id\": 5,\n//       \"name\": \"素食料理\",\n//       \"createdAt\": \"2022-09-13T00:32:28.000Z\",\n//       \"updatedAt\": \"2022-09-13T00:32:28.000Z\"\n//     },\n//     \"Comments\": [\n//       {\n//         \"id\": 1,\n//         \"text\": \"Atque odit soluta itaque ut consequatur qui earum.\",\n//         \"UserId\": 3,\n//         \"RestaurantId\": 1,\n//         \"createdAt\": \"2022-09-13T00:32:28.000Z\",\n//         \"updatedAt\": \"2022-09-13T00:32:28.000Z\",\n//         \"User\": {\n//           \"id\": 3,\n//           \"name\": \"user2\",\n//           \"email\": \"user2@example.com\",\n//           \"password\": \"$2a$10$pWd3OtsbIVlXn9guqdUMDuheMQCGakX6EBGzzT1nNvBeu5Z.ST7xG\",\n//           \"isAdmin\": false,\n//           \"image\": null,\n//           \"createdAt\": \"2022-09-13T00:32:28.000Z\",\n//           \"updatedAt\": \"2022-09-13T00:32:28.000Z\"\n//         }\n//       },\n//       {\n//         \"id\": 51,\n//         \"text\": \"Labore aut sit quam architecto doloribus saepe aut.\",\n//         \"UserId\": 3,\n//         \"RestaurantId\": 1,\n//         \"createdAt\": \"2022-09-13T00:32:28.000Z\",\n//         \"updatedAt\": \"2022-09-13T00:32:28.000Z\",\n//         \"User\": {\n//           \"id\": 3,\n//           \"name\": \"user2\",\n//           \"email\": \"user2@example.com\",\n//           \"password\": \"$2a$10$pWd3OtsbIVlXn9guqdUMDuheMQCGakX6EBGzzT1nNvBeu5Z.ST7xG\",\n//           \"isAdmin\": false,\n//           \"image\": null,\n//           \"createdAt\": \"2022-09-13T00:32:28.000Z\",\n//           \"updatedAt\": \"2022-09-13T00:32:28.000Z\"\n//         }\n//       },\n//       {\n//         \"id\": 101,\n//         \"text\": \"Incidunt eaque tempora earum quasi.\",\n//         \"UserId\": 1,\n//         \"RestaurantId\": 1,\n//         \"createdAt\": \"2022-09-13T00:32:28.000Z\",\n//         \"updatedAt\": \"2022-09-13T00:32:28.000Z\",\n//         \"User\": {\n//           \"id\": 1,\n//           \"name\": \"root\",\n//           \"email\": \"root@example.com\",\n//           \"password\": \"$2a$10$N.hlatXopaDRe.OYiEK/yOX3yDBWBFWMOYmdcRn/eOzlsu9DRJ.eG\",\n//           \"isAdmin\": true,\n//           \"image\": null,\n//           \"createdAt\": \"2022-09-13T00:32:28.000Z\",\n//           \"updatedAt\": \"2022-09-13T00:32:28.000Z\"\n//         }\n//       }\n//     ]\n//   }\n// }\n\nexport default {\n  components: {\n    Spinner\n  },\n  data () {\n    return {\n      restaurant: {},\n      commentsCount: '',\n      isLoading: true\n    }\n  },\n  created () {\n    const { id } = this.$route.params\n    this.fetchRestaurant(id)\n  },\n  beforeRouteUpdate(to, from, next) {\n    const { id } = to.params\n    this.fetchRestaurant(id)\n    next()\n  },\n  methods: {\n    async fetchRestaurant (restaurantId) {\n      try {\n\n        // response.data裡：restaurant 物件\n        const { data } = await restaurantsAPI.getDashboard({restaurantId})\n        this.restaurant = data.restaurant\n        this.commentsCount = data.restaurant.Comments.length\n        this.isLoading = false\n\n      } catch (error) {\n        this.isLoading = false\n        Toast.fire({\n          icon: 'error',\n          title: '無法取得餐廳資訊，請稍後再試'\n        })\n      }\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RestaurantDashboard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RestaurantDashboard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RestaurantDashboard.vue?vue&type=template&id=49d41402&\"\nimport script from \"./RestaurantDashboard.vue?vue&type=script&lang=js&\"\nexport * from \"./RestaurantDashboard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}